---
title: "DefaultNetworkAcl"
---

<!-- WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. -->
<!-- Do not edit by hand unless you're certain you know what you are doing! -->

<style>
  table td p { margin-top: 0; margin-bottom: 0; }
</style>

Provides a resource to manage the default AWS Network ACL. VPC Only.

Each VPC created in AWS comes with a Default Network ACL that can be managed, but not
destroyed. **This is an advanced resource**, and has special caveats to be aware
of when using it. Please read this document in its entirety before using this
resource.

The `aws.ec2.DefaultNetworkAcl` behaves differently from normal resources, in that
this provider does not _create_ this resource, but instead attempts to "adopt" it
into management. We can do this because each VPC created has a Default Network
ACL that cannot be destroyed, and is created with a known set of default rules.

When this provider first adopts the Default Network ACL, it **immediately removes all
rules in the ACL**. It then proceeds to create any rules specified in the
configuration. This step is required so that only the rules specified in the
configuration are created.

This resource treats its inline rules as absolute; only the rules defined
inline are created, and any additions/removals external to this resource will
result in diffs being shown. For these reasons, this resource is incompatible with the
`aws.ec2.NetworkAclRule` resource.

For more information about Network ACLs, see the AWS Documentation on
[Network ACLs][aws-network-acls].

> This content is derived from https://github.com/terraform-providers/terraform-provider-aws/blob/master/website/docs/r/default_network_acl.html.markdown.


## Create a DefaultNetworkAcl Resource

{{< langchoose csharp >}}

<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="k">new</span> <span class="nx"><a href=/docs/reference/pkg/nodejs/pulumi/aws/s3/#DefaultNetworkAcl>DefaultNetworkAcl</a></span><span class="p">(</span><span class="nx">name</span>: <span class="kt"><a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String>string</a></span><span class="p">,</span> <span class="nx">args</span>: <span class="kt"><a href=/docs/reference/pkg/nodejs/pulumi/aws/s3/#DefaultNetworkAclArgs>DefaultNetworkAclArgs</a></span><span class="p">,</span> <span class="nx">opts?</span>: <span class="kt"><a href=/docs/reference/pkg/nodejs/pulumi/pulumi/#CustomResourceOptions>pulumi.CustomResourceOptions</a></span><span class="p">);</span></code></pre></div>

```python
def __init__(__self__, resource_name, opts=None, default_network_acl_id=None, egress=None, ingress=None, subnet_ids=None, tags=None, __props__=None)
```

```go
func NewDefaultNetworkAcl(ctx *pulumi.Context, name string, args *DefaultNetworkAclArgs, opts ...pulumi.ResourceOption) (*DefaultNetworkAcl, error)

```

```csharp
public DefaultNetworkAcl(string name, DefaultNetworkAclArgs args, CustomResourceOptions? options = null)

```

Creates a DefaultNetworkAcl resource with the given unique name, arguments, and options.

{{% lang nodejs %}}
<ul class="pl-10">
    <li><strong>name</strong> &ndash; (Required) The unique name of the resulting resource.</li>
    <li><strong>args</strong> &ndash; (Required) The arguments to use to populate this resource's properties.</li>
    <li><strong>opts</strong> &ndash; (Optional) A bag of options that control this resource's behavior.</li>
</ul>
{{% /lang %}}

{{% lang go %}}
<ul class="pl-10">
    <li><strong>name</strong> &ndash; (Required) The unique name of the resulting resource.</li>
    <li><strong>args</strong> &ndash; (Required) The arguments to use to populate this resource's properties.</li>
    <li><strong>opts</strong> &ndash; (Optional) A bag of options that control this resource's behavior.</li>
</ul>
{{% /lang %}}

{{% lang csharp %}}
<ul class="pl-10">
    <li><strong>name</strong> &ndash; (Required) The unique name of the resulting resource.</li>
    <li><strong>args</strong> &ndash; (Required) The arguments to use to populate this resource's properties.</li>
    <li><strong>opts</strong> &ndash; (Optional) A bag of options that control this resource's behavior.</li>
</ul>
{{% /lang %}}

The following arguments are supported:

<table class="ml-6">
    <thead>
        <tr>
            <th>Argument</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="align-top">default<wbr>Network<wbr>Acl<wbr>Id</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Required) The Network ACL ID to manage. This
attribute is exported from `aws.ec2.Vpc`, or manually found via the AWS Console.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">egress</td>
            <td class="align-top"><code>Array&lt;<wbr><a href="#defaultnetworkaclegress">Default<wbr>Network<wbr>Acl<wbr>Egress</a><wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
(Optional) Specifies an egress rule. Parameters defined below.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">ingress</td>
            <td class="align-top"><code>Array&lt;<wbr><a href="#defaultnetworkaclingress">Default<wbr>Network<wbr>Acl<wbr>Ingress</a><wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
(Optional) Specifies an ingress rule. Parameters defined below.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">subnet<wbr>Ids</td>
            <td class="align-top"><code>Array&lt;<wbr>string<wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
(Optional) A list of Subnet IDs to apply the ACL to. See the
notes below on managing Subnets in the Default Network ACL

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">tags</td>
            <td class="align-top"><code>Map&lt;<wbr>any<wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
(Optional) A mapping of tags to assign to the resource.

{{% /md %}}</td>
        </tr>
    </tbody>
</table>

## DefaultNetworkAcl Output Properties

The following output properties are available:

<table class="ml-6">
    <thead>
        <tr>
            <th>Argument</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="align-top">default<wbr>Network<wbr>Acl<wbr>Id</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
The Network ACL ID to manage. This
attribute is exported from `aws.ec2.Vpc`, or manually found via the AWS Console.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">egress</td>
            <td class="align-top"><code>Array&lt;<wbr><a href="#defaultnetworkaclegress">Default<wbr>Network<wbr>Acl<wbr>Egress</a><wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
Specifies an egress rule. Parameters defined below.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">ingress</td>
            <td class="align-top"><code>Array&lt;<wbr><a href="#defaultnetworkaclingress">Default<wbr>Network<wbr>Acl<wbr>Ingress</a><wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
Specifies an ingress rule. Parameters defined below.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">owner<wbr>Id</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
The ID of the AWS account that owns the Default Network ACL

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">subnet<wbr>Ids</td>
            <td class="align-top"><code>Array&lt;<wbr>string<wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
A list of Subnet IDs to apply the ACL to. See the
notes below on managing Subnets in the Default Network ACL

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">tags</td>
            <td class="align-top"><code>Map&lt;<wbr>any<wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
A mapping of tags to assign to the resource.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">vpc<wbr>Id</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
The ID of the associated VPC

{{% /md %}}</td>
        </tr>
    </tbody>
</table>

## Look up an Existing DefaultNetworkAcl Resource

{{< langchoose csharp >}}

```typescript
public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: DefaultNetworkAclState, opts?: pulumi.CustomResourceOptions): DefaultNetworkAcl;
```

```python
def get(resource_name, id, opts=None, acceleration_status=None, acl=None, arn=None, bucket=None, bucket_domain_name=None, bucket_prefix=None, bucket_regional_domain_name=None, cors_rules=None, force_destroy=None, hosted_zone_id=None, lifecycle_rules=None, loggings=None, object_lock_configuration=None, policy=None, region=None, replication_configuration=None, request_payer=None, server_side_encryption_configuration=None, tags=None, versioning=None, website=None, website_domain=None, website_endpoint=None)
```

```go
func GetBucket(ctx *pulumi.Context, name string, id pulumi.IDInput, state *BucketState, opts ...pulumi.ResourceOption) (*Bucket, error)
```

```csharp
public static Bucket Get(string name, Input<string> id, BucketState? state = null, CustomResourceOptions? options = null);
```

Get an existing DefaultNetworkAcl resource's state with the given name, ID, and optional extra
properties used to qualify the lookup.

{{% lang nodejs %}}
<ul class="pl-10">
    <li><strong>name</strong> &ndash; (Required) The unique name of the resulting resource.</li>
    <li><strong>id</strong> &ndash; (Required) The _unique_ provider ID of the resource to lookup.</li>
    <li><strong>state</strong> &ndash; (Optional) Any extra arguments used during the lookup.</li>
    <li><strong>opts</strong> &ndash; (Optional) A bag of options that control this resource's behavior.</li>
</ul>
{{% /lang %}}

{{% lang go %}}
<ul class="pl-10">
    <li><strong>name</strong> &ndash; (Required) The unique name of the resulting resource.</li>
    <li><strong>id</strong> &ndash; (Required) The _unique_ provider ID of the resource to lookup.</li>
    <li><strong>state</strong> &ndash; (Optional) Any extra arguments used during the lookup.</li>
    <li><strong>opts</strong> &ndash; (Optional) A bag of options that control this resource's behavior.</li>
</ul>
{{% /lang %}}

{{% lang csharp %}}
<ul class="pl-10">
    <li><strong>name</strong> &ndash; (Required) The unique name of the resulting resource.</li>
    <li><strong>id</strong> &ndash; (Required) The _unique_ provider ID of the resource to lookup.</li>
    <li><strong>state</strong> &ndash; (Optional) Any extra arguments used during the lookup.</li>
    <li><strong>opts</strong> &ndash; (Optional) A bag of options that control this resource's behavior.</li>
</ul>
{{% /lang %}}

The following state arguments are supported:

<table class="ml-6">
    <thead>
        <tr>
            <th>Argument</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="align-top">default<wbr>Network<wbr>Acl<wbr>Id</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Optional) The Network ACL ID to manage. This
attribute is exported from `aws.ec2.Vpc`, or manually found via the AWS Console.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">egress</td>
            <td class="align-top"><code>Array&lt;<wbr><a href="#defaultnetworkaclegress">Default<wbr>Network<wbr>Acl<wbr>Egress</a><wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
(Optional) Specifies an egress rule. Parameters defined below.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">ingress</td>
            <td class="align-top"><code>Array&lt;<wbr><a href="#defaultnetworkaclingress">Default<wbr>Network<wbr>Acl<wbr>Ingress</a><wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
(Optional) Specifies an ingress rule. Parameters defined below.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">owner<wbr>Id</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Optional) The ID of the AWS account that owns the Default Network ACL

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">subnet<wbr>Ids</td>
            <td class="align-top"><code>Array&lt;<wbr>string<wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
(Optional) A list of Subnet IDs to apply the ACL to. See the
notes below on managing Subnets in the Default Network ACL

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">tags</td>
            <td class="align-top"><code>Map&lt;<wbr>any<wbr>&gt;</code></td>
            <td class="align-top">{{% md %}}
(Optional) A mapping of tags to assign to the resource.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">vpc<wbr>Id</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Optional) The ID of the associated VPC

{{% /md %}}</td>
        </tr>
    </tbody>
</table>

## Import an Existing DefaultNetworkAcl Resource

TODO

## Support Types

#### DefaultNetworkAclEgress

<table class="ml-6">
    <thead>
        <tr>
            <th>Argument</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="align-top">action</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Required) The action to take.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">cidr<wbr>Block</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Optional) The CIDR block to match. This must be a
valid network mask.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">from<wbr>Port</td>
            <td class="align-top"><code>number</code></td>
            <td class="align-top">{{% md %}}
(Required) The from port to match.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">icmp<wbr>Code</td>
            <td class="align-top"><code>number</code></td>
            <td class="align-top">{{% md %}}
(Optional) The ICMP type code to be used. Default 0.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">icmp<wbr>Type</td>
            <td class="align-top"><code>number</code></td>
            <td class="align-top">{{% md %}}
(Optional) The ICMP type to be used. Default 0.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">ipv6Cidr<wbr>Block</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Optional) The IPv6 CIDR block.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">protocol</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Required) The protocol to match. If using the -1 'all'
protocol, you must specify a from and to port of 0.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">rule<wbr>No</td>
            <td class="align-top"><code>number</code></td>
            <td class="align-top">{{% md %}}
(Required) The rule number. Used for ordering.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">to<wbr>Port</td>
            <td class="align-top"><code>number</code></td>
            <td class="align-top">{{% md %}}
(Required) The to port to match.

{{% /md %}}</td>
        </tr>
    </tbody>
</table>

#### DefaultNetworkAclIngress

<table class="ml-6">
    <thead>
        <tr>
            <th>Argument</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="align-top">action</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Required) The action to take.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">cidr<wbr>Block</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Optional) The CIDR block to match. This must be a
valid network mask.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">from<wbr>Port</td>
            <td class="align-top"><code>number</code></td>
            <td class="align-top">{{% md %}}
(Required) The from port to match.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">icmp<wbr>Code</td>
            <td class="align-top"><code>number</code></td>
            <td class="align-top">{{% md %}}
(Optional) The ICMP type code to be used. Default 0.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">icmp<wbr>Type</td>
            <td class="align-top"><code>number</code></td>
            <td class="align-top">{{% md %}}
(Optional) The ICMP type to be used. Default 0.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">ipv6Cidr<wbr>Block</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Optional) The IPv6 CIDR block.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">protocol</td>
            <td class="align-top"><code>string</code></td>
            <td class="align-top">{{% md %}}
(Required) The protocol to match. If using the -1 'all'
protocol, you must specify a from and to port of 0.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">rule<wbr>No</td>
            <td class="align-top"><code>number</code></td>
            <td class="align-top">{{% md %}}
(Required) The rule number. Used for ordering.

{{% /md %}}</td>
        </tr>
        <tr>
            <td class="align-top">to<wbr>Port</td>
            <td class="align-top"><code>number</code></td>
            <td class="align-top">{{% md %}}
(Required) The to port to match.

{{% /md %}}</td>
        </tr>
    </tbody>
</table>

